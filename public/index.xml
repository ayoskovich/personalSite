<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Home</title>
    <link>/</link>
      <atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    <description>Home</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Thu, 28 Jun 2018 00:00:00 +0100</lastBuildDate>
    <image>
      <url>img/map[gravatar:%!s(bool=false) shape:circle]</url>
      <title>Home</title>
      <link>/</link>
    </image>
    
    <item>
      <title>How Statistics Has Ruined My Ability To Have Opinions</title>
      <link>/post/how-statistics-has-ruined-my-ability-to-have-opinions/</link>
      <pubDate>Thu, 26 Mar 2020 00:00:00 +0000</pubDate>
      <guid>/post/how-statistics-has-ruined-my-ability-to-have-opinions/</guid>
      <description>


&lt;p&gt;  For the past 4 years I have been studying statistics. Doing lots of practice problems, playing around with data, and reading textbooks. I’ve become a bit more familiar with the statistical way of thinking, how to analyze problems in terms of distributions rather than single numbers, and how to work with uncertainty. As much as I’ve loved this, it has had quite the unexpected consequence in my personal life.&lt;/p&gt;
&lt;div id=&#34;i-find-it-hard-to-have-an-opinion-about-anything.&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;I find it hard to have an opinion about anything.&lt;/h3&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;  Thinking about a data generating process as single shot ocurrences isn’t a good way to frame problems. A better way would be to ask, “What would happen if we did this thing a bunch of times”. When attempting to effectively evaluate hypotheses, thinking about the distribution of events is often more helpful than looking at single occurrences. You don’t hear about clinical trials with 1 patient or a brake pad company testing on 1 car. We want the largest sample possible because it gives us the clearest picture of the population and reduces variability.&lt;/p&gt;
&lt;p&gt;  Go out to a restaurant and have a bad experience? Well, I’ve only been there once so maybe it was just an off night. Take a new route home from work? Wow that was quick! But wait, I’m not taking into account the time of day or day of the week.&lt;/p&gt;
&lt;p&gt;  I can’t help but be reminded of these scenes from Silicon Valley (NSFW language).&lt;/p&gt;
&lt;iframe width=&#34;300&#34; height=&#34;300&#34; src=&#34;https://www.youtube.com/embed/OaFTpWYCzUk&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;
&lt;/iframe&gt;
&lt;iframe width=&#34;300&#34; height=&#34;300&#34; src=&#34;https://www.youtube.com/embed/VmOd27UwTsg&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>HUGO_VERSION problems</title>
      <link>/post/hugo-version-problems/</link>
      <pubDate>Sat, 07 Mar 2020 00:00:00 +0000</pubDate>
      <guid>/post/hugo-version-problems/</guid>
      <description>


&lt;p&gt;In order to build this site, I use blogdown and then I deploy it with Netlify. The nice thing about netlify is that I can have the site as a repo on GitHub, and every time I push changes, the site will update. However, the other day one of my site builds kept failing. This was due to the Hugo version being different on my local machine than the one that is on Netlify.&lt;/p&gt;
&lt;p&gt;Luckily, and probably for the first time in my entire life, I found the answer in the first place I looked! If you are ever getting an error with &lt;a href=&#34;https://docs.netlify.com/configure-builds/common-configurations/#hugo&#34;&gt;exit code: 255&lt;/a&gt;, set the HUGO_VERSION environment variable (on Netlify) to the Hugo version you have installed locally. It’s pretty easy to check, in Rstudio just:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;blogdown::hugo_version()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This should output a string (mine was ‘0.60.1’) and that string should be the environment variable. More info on setting the evironment variable &lt;a href=&#34;https://docs.netlify.com/configure-builds/environment-variables/#netlify-configuration-variables&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A handy use of decorators in python</title>
      <link>/post/a-handy-use-of-decorators-in-python/</link>
      <pubDate>Wed, 04 Mar 2020 00:00:00 +0000</pubDate>
      <guid>/post/a-handy-use-of-decorators-in-python/</guid>
      <description>&lt;p&gt;  Lets say I have the following function, and for some weird reason I want it to be called twice every time I call it.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;def foo():
  print(&#39;hello&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;  I could solve this in a couple of different ways.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;def foo():
  print(&#39;hello&#39;)
  print(&#39;hello&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;def foo()
  print(&#39;hello&#39;)
  
foo()
foo()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;  So&amp;hellip;the first way is bad because if I want to extend this functionality to other funtions, I would have to copy and paste the code everywhere. Also, to switch it on and off would be a mess. The second way is even clunkier.&lt;/p&gt;
&lt;p&gt;  This is where decorators come in handy. I can write a function, that takes in a function as an argument, and then modify that function. Here&amp;rsquo;s what it looks like:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;def doTwice(function):
  def wrapper(*args, **args):
    function()
    function()
    
  return wrapper
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;  Let&amp;rsquo;s break down what&amp;rsquo;s going on here.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The &lt;code&gt;doTwice&lt;/code&gt; function first takes in another function as an argument.&lt;/li&gt;
&lt;li&gt;There is a function inside of it, called &lt;code&gt;wrapper&lt;/code&gt;, that simply calls &lt;code&gt;function&lt;/code&gt; twice.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;doTwice&lt;/code&gt; returns &lt;code&gt;wrapper&lt;/code&gt;, which is actually a function.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;  Now that we have the &lt;code&gt;doTwice&lt;/code&gt; function, we&amp;rsquo;ll need to use it to &amp;ldquo;decorate&amp;rdquo; the &lt;code&gt;foo&lt;/code&gt; function. The syntax in python is simple.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@doTwice
def foo():
  print(&#39;hello&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;  Now, every time I call &lt;code&gt;foo&lt;/code&gt;, &amp;lsquo;hello&amp;rsquo; will be printed twice, mission accomplished. The beauty of this solution is that I can now use &lt;code&gt;doTwice&lt;/code&gt; on as many functions as I&amp;rsquo;d like. I would simply add &lt;code&gt;@doTwice&lt;/code&gt; above each function definition.&lt;/p&gt;
&lt;p&gt;  There are tons more helpful things you can do with decorators, and I think in the future I&amp;rsquo;ll write some more posts about them. Thanks for reading!&lt;/p&gt;
&lt;br&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: The @ syntax isn&amp;rsquo;t the only way to decorate functions, the python documentation lays out another way that requires a bit more explaining.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Custom logging in python</title>
      <link>/post/custom-logging/</link>
      <pubDate>Sun, 01 Sep 2019 00:00:00 +0000</pubDate>
      <guid>/post/custom-logging/</guid>
      <description>&lt;p&gt;  When working with data, there are a lot of things I need to keep track of in my head.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;How many observations do I have in total?&lt;/li&gt;
&lt;li&gt;I just filtered some out, how many did I throw out?&lt;/li&gt;
&lt;li&gt;Am I aggregating before or after I filter?&lt;/li&gt;
&lt;li&gt;Where should I add this chunk of code?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;  In order to keep track of these questions when working in a jupyter notebook I end up having &lt;em&gt;tons&lt;/em&gt; of cells that look like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;df.head()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;df.shape
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;  By using decorators and the &lt;code&gt;.pipe&lt;/code&gt; method I can develop an analysis path that will give me customized output and automate this tedious cycle of &lt;code&gt;.head()&lt;/code&gt; and &lt;code&gt;.shape&lt;/code&gt;. Let&amp;rsquo;s take a look.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import pandas as pd
import numpy as np
import functools

np.random.seed(5)
df = pd.DataFrame({
    &#39;group&#39;:np.random.choice([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], 10),
    &#39;x&#39;:np.random.randint(0, 10, 10),
    &#39;y&#39;:np.random.normal(0, 10, 10)
}); df.head()
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/style&gt;&lt;/p&gt;
&lt;table border=&#34;1&#34; class=&#34;dataframe&#34;&gt;
  &lt;thead&gt;
    &lt;tr style=&#34;text-align: right;&#34;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;group&lt;/th&gt;
      &lt;th&gt;x&lt;/th&gt;
      &lt;th&gt;y&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;c&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;9.118736&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;b&lt;/td&gt;
      &lt;td&gt;7&lt;/td&gt;
      &lt;td&gt;-14.438416&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;c&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;18.244402&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;c&lt;/td&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;14.576251&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;7&lt;/td&gt;
      &lt;td&gt;-9.102582&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;h3 id=&#34;now-ill-define-some-processing-functions&#34;&gt;Now I&amp;rsquo;ll define some processing functions.&lt;/h3&gt;
&lt;p&gt;  These functions all take the dataframe as an argument and pass the dataframe back. A few notes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;code&gt;pDoc&lt;/code&gt; decorator is what allows me to print out the docstring and the shapes of the df at each step of the process.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;startPipe&lt;/code&gt; function may seem useless, but I&amp;rsquo;m just using it the get the size of the dataframe at the beginning of the analysis path.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def pDoc(func):
    &amp;quot;&amp;quot;&amp;quot;Print the docstring of a function.&amp;quot;&amp;quot;&amp;quot;
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        rv = func(*args, **kwargs)
        print(&amp;quot;{}(): \n\t{} -&amp;gt; {}&amp;quot;.format(func.__name__, func.__doc__, rv.shape))
        return rv
    return wrapper

@pDoc
def startPipe(df):
    &amp;quot;&amp;quot;&amp;quot;Begin pipeline&amp;quot;&amp;quot;&amp;quot;
    return df

@pDoc
def filterGroups(df):
    &amp;quot;&amp;quot;&amp;quot;Remove group b from the analysis.&amp;quot;&amp;quot;&amp;quot;
    return df.query(&#39;group != &amp;quot;b&amp;quot;&#39;)

@pDoc
def capVal(df):
    &amp;quot;&amp;quot;&amp;quot;Cap the value of y at 10.&amp;quot;&amp;quot;&amp;quot;
    dat = df.copy()
    dat[&#39;y&#39;] = dat[&#39;y&#39;].apply(lambda x: 10 if x &amp;gt; 10 else x)
    return dat

@pDoc
def getMean(df):
    &amp;quot;&amp;quot;&amp;quot;Add column as mean value of x by group.&amp;quot;&amp;quot;&amp;quot;
    dat = df.copy()
    dat[&#39;g_mean&#39;] = dat.groupby(&#39;group&#39;)[&#39;x&#39;].transform(np.mean)
    return dat
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;  Now I&amp;rsquo;ll tie all these functions together using &lt;code&gt;.pipe&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;(df
    .pipe(startPipe)
    .pipe(filterGroups)
    .pipe(getMean)
    .pipe(capVal)).head()
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;startPipe(): 
    Begin pipeline -&amp;gt; (10, 3)
filterGroups(): 
    Remove group b from the analysis. -&amp;gt; (8, 3)
getMean(): 
    Add column as mean value of x by group. -&amp;gt; (8, 4)
capVal(): 
    Cap the value of y at 10. -&amp;gt; (8, 4)
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/style&gt;&lt;/p&gt;
&lt;table border=&#34;1&#34; class=&#34;dataframe&#34;&gt;
  &lt;thead&gt;
    &lt;tr style=&#34;text-align: right;&#34;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;group&lt;/th&gt;
      &lt;th&gt;x&lt;/th&gt;
      &lt;th&gt;y&lt;/th&gt;
      &lt;th&gt;g_mean&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;c&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;9.118736&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;c&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;10.000000&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;c&lt;/td&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;10.000000&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;7&lt;/td&gt;
      &lt;td&gt;-9.102582&lt;/td&gt;
      &lt;td&gt;3.5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;6&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;-8.175481&lt;/td&gt;
      &lt;td&gt;3.5&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p&gt;  As you can see, I get a really nice log output that shows the function name, docstring, and the shape of its output. I like this solution because it automates the really tedious process of having to ask myself &amp;ldquo;how many records did I just throw out&amp;rdquo;. By using decorators, the function will always show me the shape of the output.&lt;/p&gt;
&lt;p&gt;  Also, this solution can be really easily extended / modified. Don&amp;rsquo;t like what my &lt;code&gt;pDoc&lt;/code&gt; decorator is doing? It&amp;rsquo;s really easy to change and customize. You&amp;rsquo;re really only limited by your imagination (and python).&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Effective .transform in python</title>
      <link>/post/transform/</link>
      <pubDate>Sun, 01 Sep 2019 00:00:00 +0000</pubDate>
      <guid>/post/transform/</guid>
      <description>&lt;p&gt;Merging summary statistics back into a table is quite a common thing to do. At first glance, a solution to this problem is to simply compute the statistics in a new table and merge the table back in. However, with &lt;code&gt;pandas&lt;/code&gt; we don&amp;rsquo;t have to do that.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import pandas as pd
import numpy as np

np.random.seed(124)
df = pd.DataFrame({
    &#39;group&#39;:np.random.choice([&#39;a&#39;, &#39;b&#39;], 5),
    &#39;x&#39;:np.random.randint(100, 200, 5)
}).sort_values(by=&#39;group&#39;); df
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/style&gt;&lt;/p&gt;
&lt;table border=&#34;1&#34; class=&#34;dataframe&#34;&gt;
  &lt;thead&gt;
    &lt;tr style=&#34;text-align: right;&#34;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;group&lt;/th&gt;
      &lt;th&gt;x&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;141&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;164&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;178&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;b&lt;/td&gt;
      &lt;td&gt;120&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;b&lt;/td&gt;
      &lt;td&gt;128&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p&gt;Here I&amp;rsquo;ve got some rows that having a grouping column called &lt;code&gt;group&lt;/code&gt;, and I&amp;rsquo;d like to calculate the sum of &lt;code&gt;x&lt;/code&gt; within each group and integrate it into my table.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;df[&#39;g_sum&#39;] = df.groupby(&#39;group&#39;)[&#39;x&#39;].transform(np.sum); df
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/style&gt;&lt;/p&gt;
&lt;table border=&#34;1&#34; class=&#34;dataframe&#34;&gt;
  &lt;thead&gt;
    &lt;tr style=&#34;text-align: right;&#34;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;group&lt;/th&gt;
      &lt;th&gt;x&lt;/th&gt;
      &lt;th&gt;g_sum&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;141&lt;/td&gt;
      &lt;td&gt;483&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;164&lt;/td&gt;
      &lt;td&gt;483&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;178&lt;/td&gt;
      &lt;td&gt;483&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;b&lt;/td&gt;
      &lt;td&gt;120&lt;/td&gt;
      &lt;td&gt;248&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;b&lt;/td&gt;
      &lt;td&gt;128&lt;/td&gt;
      &lt;td&gt;248&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p&gt;A key idea is that &lt;code&gt;.transform&lt;/code&gt; will apply its function argument to the dataframe and &lt;strong&gt;return a result that is the same size as the input frame.&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;we-can-also-use-transform-with-a-user-defined-function&#34;&gt;We can also use &lt;code&gt;.transform&lt;/code&gt; with a user defined function&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def max_minus_one(col):
    &amp;quot;&amp;quot;&amp;quot; Get the max - 1 of a list&amp;quot;&amp;quot;&amp;quot;
    return np.max(col) - 1

df[&#39;udf&#39;] = df.groupby(&#39;group&#39;)[&#39;x&#39;].transform(max_minus_one); df
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/style&gt;&lt;/p&gt;
&lt;table border=&#34;1&#34; class=&#34;dataframe&#34;&gt;
  &lt;thead&gt;
    &lt;tr style=&#34;text-align: right;&#34;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;group&lt;/th&gt;
      &lt;th&gt;x&lt;/th&gt;
      &lt;th&gt;g_sum&lt;/th&gt;
      &lt;th&gt;udf&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;141&lt;/td&gt;
      &lt;td&gt;483&lt;/td&gt;
      &lt;td&gt;177&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;164&lt;/td&gt;
      &lt;td&gt;483&lt;/td&gt;
      &lt;td&gt;177&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;178&lt;/td&gt;
      &lt;td&gt;483&lt;/td&gt;
      &lt;td&gt;177&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;b&lt;/td&gt;
      &lt;td&gt;120&lt;/td&gt;
      &lt;td&gt;248&lt;/td&gt;
      &lt;td&gt;127&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;b&lt;/td&gt;
      &lt;td&gt;128&lt;/td&gt;
      &lt;td&gt;248&lt;/td&gt;
      &lt;td&gt;127&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;h3 id=&#34;and-even-lambda-functions&#34;&gt;&amp;hellip;and even lambda functions&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;df[&#39;use_lam&#39;] = df.groupby(&#39;group&#39;)[&#39;x&#39;].transform(lambda x: np.max(x) - 1); df
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/style&gt;&lt;/p&gt;
&lt;table border=&#34;1&#34; class=&#34;dataframe&#34;&gt;
  &lt;thead&gt;
    &lt;tr style=&#34;text-align: right;&#34;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;group&lt;/th&gt;
      &lt;th&gt;x&lt;/th&gt;
      &lt;th&gt;g_sum&lt;/th&gt;
      &lt;th&gt;udf&lt;/th&gt;
      &lt;th&gt;use_lam&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;141&lt;/td&gt;
      &lt;td&gt;483&lt;/td&gt;
      &lt;td&gt;177&lt;/td&gt;
      &lt;td&gt;177&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;164&lt;/td&gt;
      &lt;td&gt;483&lt;/td&gt;
      &lt;td&gt;177&lt;/td&gt;
      &lt;td&gt;177&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;a&lt;/td&gt;
      &lt;td&gt;178&lt;/td&gt;
      &lt;td&gt;483&lt;/td&gt;
      &lt;td&gt;177&lt;/td&gt;
      &lt;td&gt;177&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;b&lt;/td&gt;
      &lt;td&gt;120&lt;/td&gt;
      &lt;td&gt;248&lt;/td&gt;
      &lt;td&gt;127&lt;/td&gt;
      &lt;td&gt;127&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;b&lt;/td&gt;
      &lt;td&gt;128&lt;/td&gt;
      &lt;td&gt;248&lt;/td&gt;
      &lt;td&gt;127&lt;/td&gt;
      &lt;td&gt;127&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Privacy Policy</title>
      <link>/privacy/</link>
      <pubDate>Thu, 28 Jun 2018 00:00:00 +0100</pubDate>
      <guid>/privacy/</guid>
      <description>&lt;p&gt;&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Terms</title>
      <link>/terms/</link>
      <pubDate>Thu, 28 Jun 2018 00:00:00 +0100</pubDate>
      <guid>/terms/</guid>
      <description>&lt;p&gt;&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>External Project</title>
      <link>/project/external-project/</link>
      <pubDate>Wed, 27 Apr 2016 00:00:00 +0000</pubDate>
      <guid>/project/external-project/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Internal Project</title>
      <link>/project/internal-project/</link>
      <pubDate>Wed, 27 Apr 2016 00:00:00 +0000</pubDate>
      <guid>/project/internal-project/</guid>
      <description>&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;
&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;
&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;
&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;
&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>

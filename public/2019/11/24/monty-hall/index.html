<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.59.1" />


<title>Monty Hall - A Hugo website</title>
<meta property="og:title" content="Monty Hall - A Hugo website">


  <link href='/favicon.ico' rel='icon' type='image/x-icon'/>



  








<link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/logo.png"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/about/">About</a></li>
    
    <li><a href="https://github.com/rstudio/blogdown">GitHub</a></li>
    
    <li><a href="https://twitter.com/rstudio">Twitter</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">4 min read</span>
    

    <h1 class="article-title">Monty Hall</h1>

    
    <span class="article-date">2019-11-24</span>
    

    <div class="article-content">
      


<p><br></p>
<hr />
<div id="overview" class="section level2">
<h2>Overview</h2>
<hr />
<p>       The Monty Hall problem is a famous puzzle based on probability. Imagine that you’re on a game show and are shown three doors. Behind two of the doors are goats, and behind one of the doors is a brand new sports car. Your job is to pick the door that has the sports car behind it. After you choose a door, the host will show you where one of the goats are and give you the option to switch your door selection. Should you switch doors, or should you stick with your original guess?</p>
<p>       I first thought this had an easy answer. It doesn’t matter, right? I have a 1/3 chance of picking the right door, so letting me switch shouldn’t change anything. This, however, is not correct. To see why, we’ll first take a look at a program I wrote in R to simulate this process.</p>
<p><br></p>
<hr />
</div>
<div id="simulation" class="section level2">
<h2>Simulation</h2>
<hr />
<p><br></p>
<p>First we need to randomly select a winning door, <code>winning_door</code>, at random and have the contestant choose a door, <code>selection</code>.</p>
<p><br></p>
<pre class="r"><code>door_list &lt;- c(&quot;Door 1&quot;, &quot;Door 2&quot;, &quot;Door 3&quot;)
winning_door &lt;- sample(door_list, 1)
selection &lt;- sample(door_list, 1)</code></pre>
<p><br></p>
<p>Now we need the host to reveal one of the doors that has a goat behind it, <code>door_revealed</code>. In terms of what the host will show us, it wouldn’t make sense for us to be shown our own door. If the host opened our door and it was a goat, of course I’m switching doors! This means the door we’re shown has to satisfy three conditions:</p>
<ol style="list-style-type: decimal">
<li>It can’t be our initial selection. (Of course I’d switch)</li>
<li>It can’t be the car. (If I’m shown where the car is I’d always win)</li>
<li>It has to be a goat. (Based off of point 2)</li>
</ol>
<p><br></p>
<p>Keeping these conditions in mind we’ll continue our program.</p>
<pre class="r"><code>if (winning_door == selection){
  door_revealed &lt;- sample(door_list[! door_list %in% c(selection)], 1) # Just in case we pick the correct door
} else {
  door_revealed &lt;- door_list[! door_list %in% c(selection, winning_door)]
}</code></pre>
<p><br></p>
<p>Next, for simulation purposes we’ll have the contestant switch their choice, <code>second_selection</code>.
This choice must satisfy two conditions:</p>
<ol style="list-style-type: decimal">
<li>It can’t be the initial choice. (We need to switch doors)</li>
<li>It can’t be the door that was just shown to us. (If we’re always shown a goat we’d be purposely losing)</li>
</ol>
<p><br></p>
<pre class="r"><code>second_selection &lt;- door_list[! door_list %in% c(door_revealed, selection)]</code></pre>
<p><br></p>
<p>We now have both cases: staying with the original pick and switching to a new door. All that’s left to do is wrap the process in a for loop and capture our results.</p>
<pre class="r"><code>stay &lt;- c()
change &lt;- c()

for (i in 1:1000){
  
  winning_door &lt;- sample(door_list, 1)
  selection &lt;- sample(door_list, 1)

  if (winning_door == selection){
    door_revealed &lt;- sample(door_list[! door_list %in% c(selection)], 1)
  } else {
    door_revealed &lt;- door_list[! door_list %in% c(selection, winning_door)]
  }
  
  # Have contestant switch doors
  off_limits &lt;- c(door_revealed, selection)
  second_selection &lt;- door_list[! door_list %in% off_limits]
  
  # Check if either options win
  if (selection == winning_door){
    win_first = TRUE
  } else {
    win_first = FALSE
  }
  if (second_selection == winning_door){
    win_second = TRUE
  } else {
    win_second = FALSE
  }
  
  # Append results
  stay &lt;- append(stay, win_first)
  change &lt;- append(change, win_second)
}</code></pre>
<p><br></p>
<p>Now we’ll summarize our results by calculating the win rate for each choice.</p>
<p><br></p>
<p>If we stay with the original door:</p>
<p><code>sum(stay) / length(stay)</code></p>
<pre><code>## [1] 0.322</code></pre>
<p>Our win rate is the expected 1/3.</p>
<p><br></p>
<p>If we switch to the other door:</p>
<p><code>sum(change) / length(change)</code></p>
<pre><code>## [1] 0.678</code></pre>
<p>Our win rate doubles!</p>
<p><br></p>
<hr />
</div>
<div id="final-notes" class="section level2">
<h2>Final Notes</h2>
<hr />
<p>       These results seem ridiculous. How can the fact that we can switch doors have any effect on our chance of winning? An important part of this puzzle is the restrictions placed on the Game Show Host. The door that opens can’t be your selection and it can’t be the winning door. Because of this, the conditional probabilities end up being unbalanced. Here’s a handy chart that outlines these probabilities more clearly. (The letters in brackets will be used as references in a second.)</p>
<p><img src="prob_chart.PNG" /></p>
<p><br></p>
<p>       Those last two columns are really what we’re interested in. We see that for both choices, 2 scenarios lead to winning the car and 2 scenarios lead to missing the car. However, like I noted earlier, the conditional probabilities are unbalanced. To show these conditional probabilities are unbalanced we’ll calculate them directly.</p>
<p>If we stay with the first choice (events A and B):</p>
<p><br></p>
<p>(Note that event A and B are disjoint.)
<span class="math display">\[
P(A)\cup P(B) = P(A) + P(B) = \frac{1}{6}+\frac{1}{6} = \frac{1}{3}
\]</span></p>
<p><br></p>
<p>If we switch doors (events G and H):</p>
<p><span class="math display">\[
P(G)\cup P(H) = P(G) + P(H) = \frac{1}{3}+\frac{1}{3} = \frac{2}{3}
\]</span></p>
<p><br></p>
<p>       These results are very close to the results we got through simulation. It’s interesting how the simple act of switching doors can lead to a 2x increase in win probability. There is a similar problem, called the Three Prisoners problem which is the same mathematically but has a different story. Here’s a link to learn more: <a href="https://en.wikipedia.org/wiki/Three_Prisoners_problem" class="uri">https://en.wikipedia.org/wiki/Three_Prisoners_problem</a>.</p>
<p><br></p>
</div>

    </div>
  </article>

  


</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    
<script src="/js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
  </body>
</html>

